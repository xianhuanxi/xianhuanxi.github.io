<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Xitoys.cn - æè‡´äº¤äº’ä¸»é¡µ</title>
    <style>
        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        body, html { 
            margin: 0; padding: 0; width: 100%; height: 100%; 
            overflow: hidden; background: #ff5f8d; 
            font-family: "PingFang SC", "Helvetica Neue", sans-serif;
        }

        /* é¡¶éƒ¨å·¨å¤§ Logo [å®ç°å›¾ 1000078119 æ•ˆæœ] */
        .header-container {
            position: absolute; top: 8%; width: 100%; text-align: center;
            z-index: 50; pointer-events: none;
        }
        .header-container h1 {
            color: white; font-size: 18vw; font-weight: 900; font-style: italic;
            margin: 0; text-shadow: 0 10px 40px rgba(0,0,0,0.15);
            letter-spacing: -2px;
        }
        .header-container span { font-size: 5vw; vertical-align: bottom; }

        /* èƒŒæ™¯ç”»å¸ƒï¼šè´Ÿè´£ç»˜åˆ¶ç”µæµ */
        #bgCanvas {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            z-index: 5; background: linear-gradient(160deg, #ff7ba0 0%, #ff5c8a 100%);
        }

        /* æ°”æ³¡å®¹å™¨ */
        .bubble-stage {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            z-index: 20;
        }

        /* ç»šçƒ‚è‚¥çš‚æ³¡æ ·å¼ [å¢å¼ºå…‰æ³½æ„Ÿ] */
        .bubble {
            position: absolute; border-radius: 50%; display: flex;
            align-items: center; justify-content: center; color: white;
            text-decoration: none; font-weight: bold; text-align: center;
            /* å¤æ‚å¾„å‘æ¸å˜æ¨¡æ‹Ÿ Iridescent æ•ˆæœ */
            background: radial-gradient(circle at 30% 30%, rgba(255,255,255,0.8) 0%, rgba(255,255,255,0.1) 40%, rgba(173,216,230,0.2) 70%, rgba(255,105,180,0.3) 100%);
            border: 1.5px solid rgba(255,255,255,0.4);
            box-shadow: inset -8px -8px 20px rgba(255,255,255,0.3), 
                        inset 8px 8px 20px rgba(0,0,0,0.05),
                        0 15px 45px rgba(0,0,0,0.1);
            backdrop-filter: blur(2px); -webkit-backdrop-filter: blur(2px);
            will-change: transform; transition: opacity 0.5s;
        }

        /* å‘¼å¸åŠ¨ç”»ï¼šä½¿ç”¨ scale3d æé«˜æ€§èƒ½ */
        @keyframes bubbleBreathe {
            0%, 100% { transform: scale3d(1, 1, 1); }
            50% { transform: scale3d(1.15, 1.15, 1); }
        }

        /* è´­ç‰©æ°”æ³¡ï¼šè¶…çº§å·¨å¤§ [å®ç°å›¾ 1000078119 çº¢è‰²æ ‡è®°èŒƒå›´] */
        .shop-giant {
            width: 80vw; height: 80vw; max-width: 350px; max-height: 350px;
            font-size: 32px; z-index: 100;
            background: radial-gradient(circle at 35% 35%, rgba(255,255,255,0.7) 0%, rgba(255,200,0,0.2) 50%, rgba(255,0,80,0.4) 100%);
            animation: bubbleBreathe 4s infinite ease-in-out;
            bottom: -50px; right: -50px; position: fixed !important;
        }

        .b-text { text-shadow: 0 2px 10px rgba(0,0,0,0.2); pointer-events: none; }
    </style>
</head>
<body>

    <div class="header-container">
        <h1>Xitoys<span>.cn</span></h1>
    </div>

    <canvas id="bgCanvas"></canvas>

    <div class="bubble-stage" id="stage">
        </div>

    <script>
        const canvas = document.getElementById('bgCanvas');
        const ctx = canvas.getContext('2d');
        const stage = document.getElementById('stage');

        let width, height;
        const config = {
            bubbleCount: 4,
            maxDist: 350, // ç”µæµè§¦å‘è·ç¦»
            colors: ['#7028ff', '#00d2ff', '#ff9a00', '#00f2fe']
        };

        let bubbles = [];
        const labels = ['æ¬¢å–œæ•…äº‹', 'ä¸¤æ€§ç§‘æ™®', 'è§†é¢‘é¢‘é“', 'æˆ‘è¦æŠ•èµ„'];

        function init() {
            width = canvas.width = window.innerWidth;
            height = canvas.height = window.innerHeight;
            stage.innerHTML = '';
            bubbles = [];

            // 1. ç”Ÿæˆå¸¸è§„åˆ†ç±»æ°”æ³¡
            for (let i = 0; i < config.bubbleCount; i++) {
                const size = 110 + Math.random() * 50;
                const el = document.createElement('a');
                el.className = 'bubble';
                el.style.width = el.style.height = size + 'px';
                el.innerHTML = `<span class="b-text">${labels[i]}</span>`;
                el.href = "#";
                el.style.animation = `bubbleBreathe ${3 + Math.random()*2}s infinite ease-in-out`;
                stage.appendChild(el);

                bubbles.push({
                    el: el,
                    x: Math.random() * (width - size),
                    y: 150 + Math.random() * (height - 350),
                    vx: (Math.random() - 0.5) * 2,
                    vy: (Math.random() - 0.5) * 2,
                    r: size / 2,
                    isMain: false
                });
            }

            // 2. ç”Ÿæˆå·¨å¤§è´­ç‰©æ°”æ³¡
            const shopEl = document.createElement('a');
            shopEl.className = 'bubble shop-giant';
            shopEl.innerHTML = `<span class="b-text">ğŸ›’ åœ¨çº¿è´­ç‰©</span>`;
            shopEl.href = "shop.html";
            stage.appendChild(shopEl);

            // è´­ç‰©æ°”æ³¡å›ºå®šé€»è¾‘
            bubbles.push({
                el: shopEl,
                x: width - 150,
                y: height - 150,
                vx: 0, vy: 0,
                r: 160,
                isMain: true
            });
        }

        function drawLightning(b1, b2) {
            const x1 = b1.x + b1.r;
            const y1 = b1.y + b1.r;
            const x2 = b2.x + b2.r;
            const y2 = b2.y + b2.r;

            const dist = Math.sqrt((x1 - x2)**2 + (y1 - y2)**2);
            if (dist < config.maxDist) {
                ctx.beginPath();
                ctx.moveTo(x1, y1);
                
                // ç»˜åˆ¶æŠ–åŠ¨çš„ç”µå¼§
                const segments = 8;
                for (let i = 1; i < segments; i++) {
                    const tx = x1 + (x2 - x1) * (i / segments) + (Math.random() - 0.5) * 40;
                    const ty = y1 + (y2 - y1) * (i / segments) + (Math.random() - 0.5) * 40;
                    ctx.lineTo(tx, ty);
                }

                ctx.lineTo(x2, y2);
                ctx.strokeStyle = `rgba(255, 255, 255, ${1 - dist/config.maxDist})`;
                ctx.lineWidth = 1.5;
                ctx.stroke();
            }
        }

        function update() {
            ctx.clearRect(0, 0, width, height);

            for (let i = 0; i < bubbles.length; i++) {
                const b = bubbles[i];
                
                if (!b.isMain) {
                    b.x += b.vx;
                    b.y += b.vy;

                    // è¾¹ç•Œç¢°æ’
                    if (b.x <= 0 || b.x >= width - b.r * 2) b.vx *= -1;
                    if (b.y <= 120 || b.y >= height - b.r * 2) b.vy *= -1;
                }

                // åŒæ­¥ DOM åæ ‡
                b.el.style.transform = `translate3d(${b.x}px, ${b.y}px, 0)`;

                // ç»˜åˆ¶ç”µæµ
                for (let j = i + 1; j < bubbles.length; j++) {
                    drawLightning(b, bubbles[j]);
                }
            }
            requestAnimationFrame(update);
        }

        window.addEventListener('resize', init);
        init();
        update();
    </script>
</body>
</html>
